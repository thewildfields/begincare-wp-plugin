{"version":3,"file":"providers-display/view.js","mappings":"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","sources":["webpack://begincare/./blocks/providers-display/view.js"],"sourcesContent":["const displayModeSwitchButtons = document.querySelectorAll('.displayModeSwitch__button');\nconst resultsView = document.querySelector('.providers__display');\n\nfor (let i = 0; i < displayModeSwitchButtons.length; i++) {\n    const button = displayModeSwitchButtons[i];\n    button.addEventListener('click', () => {\n\n        const target = button.getAttribute('target-view');\n\n        if(target === 'map'){\n            resultsView.classList.add('providers__display_mapView');\n        } else {\n            resultsView.classList.remove('providers__display_mapView');\n        }\n\n        for (let k = 0; k < displayModeSwitchButtons.length; k++) {\n            if(displayModeSwitchButtons[k] !== button){\n                displayModeSwitchButtons[k].classList.remove('displayModeSwitch__button_active');\n            } else {\n                displayModeSwitchButtons[k].classList.add('displayModeSwitch__button_active');\n            }\n        }\n\n\n    })\n}\n\nconst googleApiKey = \"AIzaSyCkctQRHbx3cACmtTFj2-0ivpDSRbGdHzU\";\n(g=>{var h,a,k,p=\"The Google Maps JavaScript API\",c=\"google\",l=\"importLibrary\",q=\"__ib__\",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement(\"script\"));e.set(\"libraries\",[...r]+\"\");for(k in g)e.set(k.replace(/[A-Z]/g,t=>\"_\"+t[0].toLowerCase()),g[k]);e.set(\"callback\",c+\".maps.\"+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+\" could not load.\"));a.nonce=m.querySelector(\"script[nonce]\")?.nonce||\"\";m.head.append(a)}));d[l]?console.warn(p+\" only loads once. Ignoring:\",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})\n    ({key: googleApiKey, v: \"weekly\"});\n\nconst mapHolder = document.getElementById('map-holder');\n\nconst searchParams = new URLSearchParams(window.location.search);\n\nconst titlePlaceholder = `${searchParams.get('service')} near ${searchParams.get('location')}`;\n\nconst titlePlaceholderContainer = document.querySelector('#resultsTitle__placeholder');\ntitlePlaceholderContainer.textContent = titlePlaceholder;\n\nconst searchData = {\n    lat: Number(searchParams.get('lat')),\n    lng: Number(searchParams.get('lng'))\n}\n\n\nlet bounds = new google.maps.LatLngBounds;\n\nconst rozshukMarkerElements = document.querySelectorAll('.-rozshuk-markerSource');\n\nconst initMap = async () => {\n    const { Map, InfoWindow} = await google.maps.importLibrary('maps');\n    const { AdvancedMarkerElement } = await google.maps.importLibrary(\"marker\");\n    \n    const map = new Map(\n        mapHolder,\n        {\n            center: {\n                lat: searchData.lat && searchData.lng ? searchData.lat : -20.397,\n                lng: searchData.lat && searchData.lng ? searchData.lng : 0.644\n            },\n            mapId: 'facilities_map',\n            disableDefaultUI: true,\n            zoomControl: true,\n            zoom: 12,\n        }\n    );\n\n    // const bounds = map.getBounds();\n\n    let infowindow;\n\n    google.maps.event.addListenerOnce(map, \"idle\", () => {\n    });\n\n    const facilitiesArray = [];\n\n    for (let i = 0; i < rozshukMarkerElements.length; i++) {\n        facilitiesArray.push(rozshukMarkerElements[i])\n    }\n\n    for (let i = 0; i < rozshukMarkerElements.length; i++) {\n        const provider = rozshukMarkerElements[i];\n        const providerPosition = {\n            lat: Number(provider.getAttribute('location-lat')),\n            lng: Number(provider.getAttribute('location-lng')),\n        }\n        const marker = new AdvancedMarkerElement({\n            map: map,\n            position: providerPosition,\n        })\n        bounds.extend(providerPosition)\n        \n    }\n\n    if(rozshukMarkerElements.length > 0) map.fitBounds(bounds);\n\n    map.maxDefaultZoom = 13;\n    google.maps.event.addListenerOnce(map, \"bounds_changed\", function () {\n        this.setZoom(Math.min(this.getZoom(), this.maxDefaultZoom));\n    });\n\n}\n\ninitMap();\n"],"names":["displayModeSwitchButtons","document","querySelectorAll","resultsView","querySelector","i","length","button","addEventListener","target","getAttribute","classList","add","remove","k","googleApiKey","g","h","a","p","c","l","q","m","b","window","d","maps","r","Set","e","URLSearchParams","u","Promise","f","n","createElement","set","replace","t","toLowerCase","src","onerror","Error","nonce","head","append","console","warn","then","key","v","mapHolder","getElementById","searchParams","location","search","titlePlaceholder","get","titlePlaceholderContainer","textContent","searchData","lat","Number","lng","bounds","google","LatLngBounds","rozshukMarkerElements","initMap","Map","InfoWindow","importLibrary","AdvancedMarkerElement","map","center","mapId","disableDefaultUI","zoomControl","zoom","infowindow","event","addListenerOnce","facilitiesArray","push","provider","providerPosition","marker","position","extend","fitBounds","maxDefaultZoom","setZoom","Math","min","getZoom"],"sourceRoot":""}