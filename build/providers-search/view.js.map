{"version":3,"file":"providers-search/view.js","mappings":"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","sources":["webpack://begincare/./blocks/providers-search/view.js"],"sourcesContent":["const googleApiKey = \"AIzaSyCI-vsO_E3616VcbS0DsvJ0IvgoXD2ZhvU\";\n(g=>{var h,a,k,p=\"The Google Maps JavaScript API\",c=\"google\",l=\"importLibrary\",q=\"__ib__\",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement(\"script\"));e.set(\"libraries\",[...r]+\"\");for(k in g)e.set(k.replace(/[A-Z]/g,t=>\"_\"+t[0].toLowerCase()),g[k]);e.set(\"callback\",c+\".maps.\"+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+\" could not load.\"));a.nonce=m.querySelector(\"script[nonce]\")?.nonce||\"\";m.head.append(a)}));d[l]?console.warn(p+\" only loads once. Ignoring:\",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})\n    ({key: googleApiKey, v: \"weekly\"});\n\nconst searchGroups = document.querySelectorAll('.searchGroup');\nconst autocompleteInput = document.querySelector('.searchGroup__input_autocomplete');\nconst searchButton = document.querySelector('.searchButton');\n\nconst searchQuery = {};\nlet params = {};\n\nconst clearValue = (e) => {\n    const group = e.target.closest('.searchGroup');\n    const input = group.querySelector('.searchGroup__input');\n    const selectedValueContainer = group.querySelector('.searchGroup__selectedValueContainer');\n    selectedValueContainer.style.display = 'none';\n    input.value = '';\n}\n\n\nconst handleInput = (group) => {\n    const input = group.querySelector('.searchGroup__input');\n    const dropdown = group.querySelector('.searchGroup__options');\n    input.addEventListener('click', () => {\n        if(dropdown){ dropdown.style.display = 'flex';}\n    });\n    document.addEventListener('click' , (e) => {\n        if( dropdown && !e.target.closest('.searchGroup') ){\n            dropdown.style.display = 'none';\n        }\n    })\n    if(dropdown){\n        const options = dropdown.querySelectorAll('.searchGroup__option');\n        input.addEventListener('input', (e) => {\n            const value = e.target.value;\n            dropdown.style.display = 'flex';\n            for (let i = 0; i < options.length; i++) {\n                const option = options[i];\n                option.classList.remove('searchGroup__option_hidden');\n                if( option.textContent.toLowerCase().indexOf(value.toLowerCase()) === -1 ){\n                    option.classList.add('searchGroup__option_hidden')\n                }\n            }\n        })\n        for (let i = 0; i < options.length; i++) {\n            const option = options[i];\n            option.addEventListener('click', () => {\n                input.value = '';\n                selectValue(option);\n            })\n        }\n    }\n    const closeSelectedValueButton = group.querySelector('.searchGroup__selectedValueClose');\n    if(closeSelectedValueButton){\n        closeSelectedValueButton.addEventListener('click', clearValue);\n    }\n}\nconst createQueryURL = () => {\n    params = new URLSearchParams(searchQuery);\n}\n\nconst selectValue = (option) => {\n    const label = option.textContent;\n    const group = option.closest('.searchGroup');\n    const options = group.querySelector('.searchGroup__options');\n    const selectedValueContainer = group.querySelector('.searchGroup__selectedValueContainer');\n    const selectedValueLabel = selectedValueContainer.querySelector('.searchGroup__selectedValue');\n    selectedValueLabel.textContent = label;\n    selectedValueContainer.style.display = 'flex';\n    options.style.display = 'none';\n    searchQuery.service = option.textContent;\n    searchQuery.serviceId = option.value;\n    createQueryURL();\n}\n\nfor (let i = 0; i < searchGroups.length; i++) {\n    const searchGroup = searchGroups[i];\n    handleInput(searchGroup);\n}\n\nasync function initAutocomplete(){\n    await google.maps.importLibrary('places');\n    const autocomplete = new google.maps.places.Autocomplete(\n        autocompleteInput,\n        {\n            fields: ['geometry', 'name', 'address_components'],\n            componentRestrictions: {\n                country: ['us'],\n            },\n        }\n    )\n    const onPlaceChanged = () => {\n        const place = autocomplete.getPlace();\n        const state = place.address_components.filter((x) => {return x.types[0] === 'administrative_area_level_1'})[0].short_name;\n        if( place.geometry ){\n            searchQuery.lat = place.geometry.location.lat();\n            searchQuery.lng = place.geometry.location.lng();\n            searchQuery.location = place.name;\n            searchQuery.state = state;\n        }\n        createQueryURL();\n    }\n    autocomplete.addListener('place_changed', onPlaceChanged);\n}\n\ninitAutocomplete();\n\nconst goToResultsPage = (e) => {\n    e.preventDefault();\n    const baseUrl = e.target.getAttribute('default-href');\n    if(\n        Object.hasOwn(searchQuery, 'service') &&\n        Object.hasOwn(searchQuery, 'serviceId') &&\n        Object.hasOwn(searchQuery, 'lat') &&\n        Object.hasOwn(searchQuery, 'lng') &&\n        Object.hasOwn(searchQuery, 'location') &&\n        Object.hasOwn(searchQuery, 'state')\n    ){\n        if( e.target.getAttribute('target')){\n            window.open(baseUrl + '?' + params.toString()).focus();\n        } else {\n            window.location.href = baseUrl + '?' + params.toString();\n        }\n    }\n}\n\nsearchButton.addEventListener('click', goToResultsPage);\n"],"names":["googleApiKey","g","h","a","k","p","c","l","q","m","document","b","window","d","maps","r","Set","e","URLSearchParams","u","Promise","f","n","createElement","set","replace","t","toLowerCase","src","onerror","Error","nonce","querySelector","head","append","console","warn","add","then","key","v","searchGroups","querySelectorAll","autocompleteInput","searchButton","searchQuery","params","clearValue","group","target","closest","input","selectedValueContainer","style","display","value","handleInput","dropdown","addEventListener","options","i","length","option","classList","remove","textContent","indexOf","selectValue","closeSelectedValueButton","createQueryURL","label","selectedValueLabel","service","serviceId","searchGroup","initAutocomplete","google","importLibrary","autocomplete","places","Autocomplete","fields","componentRestrictions","country","onPlaceChanged","place","getPlace","state","address_components","filter","x","types","short_name","geometry","lat","location","lng","name","addListener","goToResultsPage","preventDefault","baseUrl","getAttribute","Object","hasOwn","open","toString","focus","href"],"sourceRoot":""}